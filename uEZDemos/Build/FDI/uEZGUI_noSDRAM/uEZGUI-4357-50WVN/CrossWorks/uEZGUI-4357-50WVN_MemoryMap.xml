<!DOCTYPE Board_Memory_Definition_File>
<Root name="LPC4357">
  <!-- 32KB SRAM section -->
  <MemorySegment start="0x10000000" name="SRAM1" size="0x8000-$(SRAM1_CM0_SIZE:0)" access="Read/Write" />
  <MemorySegment start="0x10000000+0x8000-$(SRAM1_CM0_SIZE:0x8000/2)" name="SRAM1_CM0" size="$(SRAM1_CM0_SIZE:0)" access="Read/Write" />
  <!-- 40KB SRAM section (not directly after SRAM1) -->
  <MemorySegment start="0x10080000" name="SRAM2" size="0xa000-$(SRAM2_CM0_SIZE:0xa000/2)" access="Read/Write" />
  <MemorySegment start="0x10080000+0xa000-$(SRAM2_CM0_SIZE:0xa000/2)" name="SRAM2_CM0" size="$(SRAM2_CM0_SIZE:0xa000/2)" access="Read/Write" />
  
  <!-- Built-in factory ROM that contains things like USB/QSPI/IAP functions. -->
  <MemorySegment start="0x10400000" name="ROM" size="0x10000" access="ReadOnly" />
  
  <!-- 16MB or larger QSPI section. Use SPIFI_SIZE variale to increase size instead of editing this file. -->
  <MemorySegment start="0x14000000" name="$(SPIFI_NAME:SPIFI)" size="$(SPIFI_SIZE:0)-$(SPIFI_CM0_SIZE:0)" access="ReadOnly" />
  <MemorySegment start="0x14000000+$(SPIFI_SIZE:0)-$(SPIFI_CM0_SIZE:0)" name="SPIFI_CM0" size="$(SPIFI_CM0_SIZE:0)" access="ReadOnly" />
  
  <!-- Part contains 2 separate 512KB Flash Banks, not direclty next to each other. -->
  <!-- Part contains 2 separate 4 Byte Code Read Protection words, 1 in each Flash Bank at offset 0x2FC. -->
  <!-- Bank A -->
  <MemorySegment start="0x1A000000" name="FLASHA0" size="0x2FC" access="ReadOnly" />
  <MemorySegment start="0x1A0002FC" name="CRP1" size="0x4" access="ReadOnly" /> <!-- CRP Region A -->
  <MemorySegment start="0x1A000300" name="FLASHA" size="0x7FD00-$(FLASHA_CM0_SIZE:0)" access="ReadOnly" />
  <MemorySegment start="0x1A000300+0x7FD00-$(FLASHA_CM0_SIZE:0x7FD00/2)" name="FLASHA_CM0" size="$(FLASHA_CM0_SIZE:0)" access="ReadOnly" />
  <!-- Bank B -->
  <MemorySegment start="0x1B000000" name="FLASHB0" size="0x2FC" access="ReadOnly" />
  <MemorySegment start="0x1B0002FC" name="CRP2" size="0x4" access="ReadOnly" /> <!-- CRP Region A -->
  <MemorySegment start="0x1B000300" name="FLASHB" size="0x7FD00-$(FLASHB_CM0_SIZE:0x7FD00/2)" access="ReadOnly" />
  <MemorySegment start="0x1B000300+0x7FD00-$(FLASHB_CM0_SIZE:0x7FD00/2)" name="FLASHB_CM0" size="$(FLASHB_CM0_SIZE:0x80000/2)" access="ReadOnly" />
  
  <!-- CS0-CS3 not currently used. -->
  <MemorySegment start="0x1C000000" name="$(CS0_NAME:CS0)" size="$(CS0_SIZE:0)-$(CS0_CM0_SIZE:0)" access="$(CS0_ACCESS:Read/Write)" />
  <MemorySegment start="0x1C000000+$(CS0_SIZE:0)-$(CS0_CM0_SIZE:0)" name="$(CS0_NAME:CS0)_CM0" size="$(CS0_CM0_SIZE:0)" access="$(CS0_ACCESS:Read/Write)" />
  <MemorySegment start="0x1D000000" name="$(CS1_NAME:CS1)" size="$(CS1_SIZE:0)" access="$(CS1_ACCESS:Read/Write)" />
  <MemorySegment start="0x1D000000+$(CS1_SIZE:0)-$(CS1_CM0_SIZE:0)" name="$(CS1_NAME:CS1)_CM0" size="$(CS1_CM0_SIZE:0)" access="$(CS1_ACCESS:Read/Write)" />
  <MemorySegment start="0x1E000000" name="$(CS2_NAME:CS2)" size="$(CS2_SIZE:0)" access="$(CS2_ACCESS:Read/Write)" />
  <MemorySegment start="0x1E000000+$(CS2_SIZE:0)-$(CS2_CM0_SIZE:0)" name="$(CS2_NAME:CS2)_CM0" size="$(CS2_CM0_SIZE:0)" access="$(CS2_ACCESS:Read/Write)" />
  <MemorySegment start="0x1F000000" name="$(CS3_NAME:CS3)" size="$(CS3_SIZE:0)" access="$(CS3_ACCESS:Read/Write)" />
  <MemorySegment start="0x1F000000+$(CS3_SIZE:0)-$(CS3_CM0_SIZE:0)" name="$(CS3_NAME:CS3)_CM0" size="$(CS3_CM0_SIZE:0)" access="$(CS3_ACCESS:Read/Write)" />
  
  <!-- Use AHBSRAM 1 for usb/emac memory. AHBSRAM2 requires special handling to use and inteferes with ETB operation. -->
  <MemorySegment start="0x20000000" name="AHBSRAM1" size="0xc000-$(AHBSRAM1_CM0_SIZE:0xc000/4)" access="Read/Write" />
  <MemorySegment start="0x20000000+0xc000-$(AHBSRAM1_CM0_SIZE:0xc000/4)" name="AHBSRAM1_CM0" size="$(AHBSRAM1_CM0_SIZE:0xc000/4)" access="Read/Write" />
  <MemorySegment start="0x2000C000" name="AHBSRAM2" size="0x4000-$(AHBSRAM2_CM0_SIZE:0x2000/4)" access="Read/Write" />
  <MemorySegment start="0x2000C000+0x4000-$(AHBSRAM2_CM0_SIZE:0x2000/4)" name="AHBSRAM2_CM0" size="$(AHBSRAM2_CM0_SIZE:0x2000/4)" access="Read/Write" />
  
  <!-- Non-volatile data storage supported using NVSettings.c -->
  <MemorySegment start="0x20040000" name="EEPROM" size="0x4000" access="ReadOnly">
		<ProgramSection alignment="4" load="Yes" name=".eeprom" />
  </MemorySegment>

  <!-- 1st SDRAM section used with 16MB part. Use DYCS0_SIZE variable to increase size instead of editing this file. -->
  <MemorySegment start="0x28000000" name="$(DYCS0_NAME:DYCS0)" size="$(DYCS0_SIZE:0)-$(DYCS0_CM0_SIZE:0)" access="$(DYCS0_ACCESS:Read/Write)" />
  <MemorySegment start="0x28000000+$(DYCS0_SIZE:0)-$(SDRAM_CM0_SIZE:0)" name="$(DYCS0_NAME:DYCS0)_CM0" size="$(SDRAM_CM0_SIZE:0)" access="$(DYCS0_ACCESS:Read/Write)" />  
  <!-- Second SDRAM section not currently used. -->
  <MemorySegment start="0x30000000" name="$(DYCS1_NAME:DYCS1)" size="$(DYCS1_SIZE:0)-$(DYCS0_CM1_SIZE:0)" access="$(DYCS1_ACCESS:Read/Write)" />
  <MemorySegment start="0x30000000+$(DYCS1_SIZE:0)-$(DYCS1_CM0_SIZE:0)" name="$(DYCS1_NAME:DYCS1)_CM0" size="$(DYCS1_CM0_SIZE:0)" access="$(DYCS1_ACCESS:Read/Write)" />
  <!-- OTP section. -->
  <MemorySegment start="0x40045000" name="OTP" size="0x40" access="ReadOnly" />
</Root>

